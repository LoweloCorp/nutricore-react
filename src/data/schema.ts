import { appSchema, tableSchema } from '@nozbe/watermelondb'
import { makeSafeName } from '../utils/helpers'

export default appSchema({
    version: 1,
    tables: [
        tableSchema({
            name: 'products',
            columns: [
                { name: '_id', type: 'string', isIndexed: true },
                { name: 'generic_name', type: 'string' },
                { name: 'nutriment_id', type: 'string', isIndexed: true },
                { name: 'product_quantity', type: 'number', isOptional: true },
                { name: 'quantity', type: 'string', isOptional: true },
                { name: 'serving_size', type: 'string', isOptional: true },
                { name: 'serving_quantity', type: 'number', isOptional: true },
            ]
        }),
        tableSchema({
            name: 'nutriments',
            columns: [
                { name: makeSafeName('product_id'), type: 'string', isIndexed: true },
                { name: makeSafeName('user_id'), type: 'string', isIndexed: true, isOptional: true },
                { name: makeSafeName('calcium'), type: 'number', isOptional: true },
                { name: makeSafeName('calcium_100g'), type: 'number', isOptional: true },
                { name: makeSafeName('calcium_serving'), type: 'number', isOptional: true },
                { name: makeSafeName('calcium_unit'), type: 'string', isOptional: true },
                { name: makeSafeName('calcium_value'), type: 'number', isOptional: true },
                { name: makeSafeName('carbohydrates'), type: 'number', isOptional: true },
                { name: makeSafeName('carbohydrates_100g'), type: 'number', isOptional: true },
                { name: makeSafeName('carbohydrates_serving'), type: 'number', isOptional: true },
                { name: makeSafeName('carbohydrates_unit'), type: 'string', isOptional: true },
                { name: makeSafeName('carbohydrates_value'), type: 'number', isOptional: true },
                { name: makeSafeName('cholesterol'), type: 'number', isOptional: true },
                { name: makeSafeName('cholesterol_100g'), type: 'number', isOptional: true },
                { name: makeSafeName('cholesterol_serving'), type: 'number', isOptional: true },
                { name: makeSafeName('cholesterol_unit'), type: 'string', isOptional: true },
                { name: makeSafeName('cholesterol_value'), type: 'number', isOptional: true },
                { name: makeSafeName('energy'), type: 'number', isOptional: true },
                { name: makeSafeName('energy-kcal'), type: 'number', isOptional: true },
                { name: makeSafeName('energy-kcal_100g'), type: 'number', isOptional: true },
                { name: makeSafeName('energy-kcal_serving'), type: 'number', isOptional: true },
                { name: makeSafeName('energy-kcal_unit'), type: 'string', isOptional: true },
                { name: makeSafeName('energy-kcal_value'), type: 'number', isOptional: true },
                { name: makeSafeName('energy-kcal_value_computed'), type: 'number', isOptional: true },
                { name: makeSafeName('energy_100g'), type: 'number', isOptional: true },
                { name: makeSafeName('energy_serving'), type: 'number', isOptional: true },
                { name: makeSafeName('energy_unit'), type: 'string', isOptional: true },
                { name: makeSafeName('energy_value'), type: 'number', isOptional: true },
                { name: makeSafeName('fat'), type: 'number', isOptional: true },
                { name: makeSafeName('fat_100g'), type: 'number', isOptional: true },
                { name: makeSafeName('fat_serving'), type: 'number', isOptional: true },
                { name: makeSafeName('fat_unit'), type: 'string', isOptional: true },
                { name: makeSafeName('fat_value'), type: 'number', isOptional: true },
                { name: makeSafeName('fiber'), type: 'number', isOptional: true },
                { name: makeSafeName('fiber_100g'), type: 'number', isOptional: true },
                { name: makeSafeName('fiber_serving'), type: 'number', isOptional: true },
                { name: makeSafeName('fiber_unit'), type: 'string', isOptional: true },
                { name: makeSafeName('fiber_value'), type: 'number', isOptional: true },
                { name: makeSafeName('fruits-vegetables-nuts-estimate-from-ingredients_100g'), type: 'number', isOptional: true },
                { name: makeSafeName('fruits-vegetables-nuts-estimate-from-ingredients_serving'), type: 'number', isOptional: true },
                { name: makeSafeName('iron'), type: 'number', isOptional: true },
                { name: makeSafeName('iron_100g'), type: 'number', isOptional: true },
                { name: makeSafeName('iron_serving'), type: 'number', isOptional: true },
                { name: makeSafeName('iron_unit'), type: 'string', isOptional: true },
                { name: makeSafeName('iron_value'), type: 'number', isOptional: true },
                { name: makeSafeName('nova-group'), type: 'number', isOptional: true },
                { name: makeSafeName('nova-group_100g'), type: 'number', isOptional: true },
                { name: makeSafeName('nova-group_serving'), type: 'number', isOptional: true },
                { name: makeSafeName('nutrition-score-fr'), type: 'number', isOptional: true },
                { name: makeSafeName('nutrition-score-fr_100g'), type: 'number', isOptional: true },
                { name: makeSafeName('proteins'), type: 'number', isOptional: true },
                { name: makeSafeName('proteins_100g'), type: 'number', isOptional: true },
                { name: makeSafeName('proteins_serving'), type: 'number', isOptional: true },
                { name: makeSafeName('proteins_unit'), type: 'string', isOptional: true },
                { name: makeSafeName('proteins_value'), type: 'number', isOptional: true },
                { name: makeSafeName('salt'), type: 'number', isOptional: true },
                { name: makeSafeName('salt_100g'), type: 'number', isOptional: true },
                { name: makeSafeName('salt_serving'), type: 'number', isOptional: true },
                { name: makeSafeName('salt_unit'), type: 'string', isOptional: true },
                { name: makeSafeName('salt_value'), type: 'number', isOptional: true },
                { name: makeSafeName('saturated-fat'), type: 'number', isOptional: true },
                { name: makeSafeName('saturated-fat_100g'), type: 'number', isOptional: true },
                { name: makeSafeName('saturated-fat_serving'), type: 'number', isOptional: true },
                { name: makeSafeName('saturated-fat_unit'), type: 'string', isOptional: true },
                { name: makeSafeName('saturated-fat_value'), type: 'number', isOptional: true },
                { name: makeSafeName('sodium'), type: 'number', isOptional: true },
                { name: makeSafeName('sodium_100g'), type: 'number', isOptional: true },
                { name: makeSafeName('sodium_serving'), type: 'number', isOptional: true },
                { name: makeSafeName('sodium_unit'), type: 'string', isOptional: true },
                { name: makeSafeName('sodium_value'), type: 'number', isOptional: true },
                { name: makeSafeName('sugars'), type: 'number', isOptional: true },
                { name: makeSafeName('sugars_100g'), type: 'number', isOptional: true },
                { name: makeSafeName('sugars_serving'), type: 'number', isOptional: true },
                { name: makeSafeName('sugars_unit'), type: 'string', isOptional: true },
                { name: makeSafeName('sugars_value'), type: 'number', isOptional: true },
                { name: makeSafeName('trans-fat'), type: 'number', isOptional: true },
                { name: makeSafeName('trans-fat_100g'), type: 'number', isOptional: true },
                { name: makeSafeName('trans-fat_serving'), type: 'number', isOptional: true },
                { name: makeSafeName('trans-fat_unit'), type: 'string', isOptional: true },
                { name: makeSafeName('trans-fat_value'), type: 'number', isOptional: true },
                { name: makeSafeName('vitamin-a'), type: 'number', isOptional: true },
                { name: makeSafeName('vitamin-a_100g'), type: 'number', isOptional: true },
                { name: makeSafeName('vitamin-a_serving'), type: 'number', isOptional: true },
                { name: makeSafeName('vitamin-a_unit'), type: 'string', isOptional: true },
                { name: makeSafeName('vitamin-a_value'), type: 'number', isOptional: true },
                { name: makeSafeName('vitamin-c'), type: 'number', isOptional: true },
                { name: makeSafeName('vitamin-c_100g'), type: 'number', isOptional: true },
                { name: makeSafeName('vitamin-c_serving'), type: 'number', isOptional: true },
                { name: makeSafeName('vitamin-c_unit'), type: 'string', isOptional: true },
                { name: makeSafeName('vitamin-c_value'), type: 'number', isOptional: true }

            ]
        }),
        tableSchema({
            name: 'nutritional_logs',
            columns: [
                { name: 'date', type: 'string', isIndexed: true },
                { name: 'product_id', type: 'string', isIndexed: true },
                { name: 'portion_size', type: 'number' },
                { name: 'quantity', type: 'number' },
            ]
        }),
        tableSchema({
            name: 'users',
            columns: [
                { name: 'name', type: 'string' },
                { name: 'token', type: 'string', isOptional: true },
                { name: 'nutriment_id', type: 'string', isIndexed: true },
            ]
        })
    ]
})
